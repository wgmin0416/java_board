# application.yml: Spring Boot 설정 파일
# 이 파일에 데이터베이스 연결 정보, 서버 포트 등을 설정합니다.

# Spring 관련 설정
spring:
  # 애플리케이션 이름
  application:
    name: board-app

  # 데이터베이스 연결 설정
  datasource:
    # MySQL 데이터베이스 연결 URL
    # 형식: jdbc:mysql://서버주소:포트/데이터베이스이름?옵션들
    url: jdbc:mysql://localhost:3306/java_study?useSSL=false&serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    # MySQL 드라이버 클래스 이름
    driver-class-name: com.mysql.cj.jdbc.Driver
    # 데이터베이스 사용자 이름
    username: root
    # 데이터베이스 비밀번호
    password: Alsdndrl1!

  # JPA (Java Persistence API) 설정
  jpa:
    # Hibernate 설정 (JPA의 구현체)
    hibernate:
      # ddl-auto: 데이터베이스 스키마 자동 생성 옵션
      # - create: 시작할 때마다 테이블 삭제 후 재생성 (개발용)
      # - update: 기존 테이블은 유지하고 변경사항만 반영 (권장)
      # - validate: 스키마 검증만 수행
      # - none: 아무것도 하지 않음
      ddl-auto: update
    # SQL 쿼리를 콘솔에 출력할지 여부 (개발 시 디버깅용)
    show-sql: true
    properties:
      hibernate:
        # SQL 쿼리를 보기 좋게 포맷팅해서 출력
        format_sql: true
        # MySQL 방언 설정 (데이터베이스별 SQL 문법 차이 처리)
        dialect: org.hibernate.dialect.MySQLDialect

  # Thymeleaf 템플릿 엔진 설정
  thymeleaf:
    prefix: classpath:/templates/ # HTML 템플릿 파일 위치
    suffix: .html # HTML 파일 확장자
    mode: HTML # HTML 모드
    encoding: UTF-8 # 인코딩 방식

  # Elasticsearch 설정
  elasticsearch:
    # Elasticsearch 서버 연결 정보
    uris: http://localhost:9200 # Elasticsearch 서버 주소 (Docker로 실행 중)
    # 연결 타임아웃
    connection-timeout: 5s
    # 소켓 타임아웃
    socket-timeout: 60s

# 커스텀 설정
board:
  elasticsearch:
    # Elasticsearch 인덱스 초기화 설정
    # true: 애플리케이션 시작 시 기존 인덱스를 삭제하고 재생성 후 MySQL 데이터 동기화
    # false: 초기화를 실행하지 않음 (기본값)
    # 주의: true로 설정하면 기존 Elasticsearch 데이터가 모두 삭제됩니다!
    sync-on-startup: false

# 서버 설정
server:
  port: 8081 # 서버가 실행될 포트 번호

